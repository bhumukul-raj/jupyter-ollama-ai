# Enhanced User Experience

This guide covers the enhanced user experience features in the Ollama JupyterLab AI Assistant.

## Setup Wizard

The extension now includes a setup wizard to help you get started with Ollama. When you first launch the extension or if Ollama isn't properly configured, the setup wizard will guide you through the process.

### Using the Setup Wizard

The setup wizard will:

1. **Check Ollama Installation**: Verify if Ollama is installed and running
2. **Check Available Models**: Confirm you have at least one model installed
3. **Verify API Connection**: Ensure the extension can communicate with Ollama

If any step fails, the wizard will provide specific instructions to resolve the issue.

![Setup Wizard Screenshot](../images/setup-wizard.png)

### Manual Setup

If you prefer to set up Ollama manually, you can skip the wizard and follow these steps:

1. Download and install Ollama from [ollama.ai](https://ollama.ai)
2. Start the Ollama service on your computer
3. Pull at least one model using: `ollama pull mistral`
4. Restart JupyterLab

## Code Preview & Syntax Highlighting

The extension now provides enhanced code previews with syntax highlighting and diff views.

### Syntax Highlighting

Code generated by the AI assistant now includes syntax highlighting for better readability. The extension supports highlighting for multiple languages, including:

- Python
- JavaScript/TypeScript
- R
- SQL
- Markdown
- And more...

![Syntax Highlighting Example](../images/syntax-highlighting.png)

### Diff View

When the AI suggests changes to your existing code, you can now view a side-by-side diff that shows exactly what changed. This makes it easier to understand and review the suggested modifications.

To use the diff view:

1. Send your code to the AI for improvement
2. When the AI responds with changes, click the "Diff" button
3. Review the highlighted changes (additions in green, removals in red)
4. Click "Apply Changes" to accept the modifications

![Diff View Example](../images/diff-view.png)

### Code Actions

The code preview includes several helpful actions:

- **Copy**: Copy the entire code snippet to clipboard
- **Diff/Normal**: Toggle between diff view and normal view
- **Undo/Redo**: Navigate through revision history
- **Apply**: Insert the code into your notebook

## Progress Indicators

The extension now provides better visual feedback for long-running operations.

### Loading States

When the AI is generating a response, you'll see:

- A typing indicator showing that the AI is working
- A progress bar for long responses
- Estimated time remaining for complex operations

![Loading Indicator Example](../images/loading-indicator.png)

### Connection Status

The header now includes a connection status indicator that shows:

- **Connected**: Successfully connected to Ollama
- **Connecting**: Attempting to establish a connection
- **Disconnected**: Cannot connect to Ollama

If the connection is lost, the extension will automatically attempt to reconnect and will show the current status.

## Improved Error Handling

The extension now provides more informative error messages and recovery options.

### Error Messages

When an error occurs, you'll receive:

- A clear description of what went wrong
- Specific instructions on how to fix the issue
- Options to retry the operation

### Recovery Options

For connection issues, the extension offers:

- **Retry**: Attempt the operation again
- **Reconnect**: Restart the connection to Ollama
- **Troubleshoot**: Open detailed troubleshooting instructions

## Undo/Redo Functionality

You can now track and revert code changes suggested by the AI assistant.

### Code History

The extension keeps a history of code changes, allowing you to:

- Undo to previous versions
- Redo changes you've undone
- Compare current code with previous versions

### Using Undo/Redo

The undo/redo buttons appear in the code preview when you have a change history available. Simply click:

- **Undo**: Go back to the previous version
- **Redo**: Go forward to the next version

## Mobile & Responsive Design

The extension now adapts better to different screen sizes, including:

- Compact mode for narrow windows
- Touch-friendly controls for tablet users
- Improved scrolling on small screens
- Better keyboard accessibility

## Customization Options

You can customize the behavior of these features in the settings panel. Options include:

- Enable/disable syntax highlighting
- Set default language for code snippets
- Configure auto-scrolling behavior
- Enable/disable the setup wizard
- Set preference for diff view

To access settings, click the gear icon in the extension panel header.

## Keyboard Shortcuts

The extension now supports keyboard shortcuts for common actions:

- **Ctrl+Enter**: Send message
- **Esc**: Cancel current operation
- **Ctrl+Z**: Undo code change
- **Ctrl+Shift+Z**: Redo code change
- **Ctrl+C**: Copy code when code block is focused 